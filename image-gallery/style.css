/* 全域重設，讓我們的畫廊完全控制版面 */
body, html {
    margin: 0;
    padding: 0;
    height: 100%;
    overflow: hidden; /* 防止滾動條出現 */
}

/* 讓容器佔滿整個視窗，並設定背景 */
#gallery-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #000;
    display: flex;
    justify-content: center;
    align-items: center;
    /* 為了接收鍵盤事件，需要 outline: none 來隱藏焦點時的預設外框 */
    outline: none;
}

/* 圖片容器 */
.image-wrapper {
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* 主要圖片樣式 */
#main-image {
    max-width: 100%;
    max-height: 100%;
    object-fit: contain; /* 關鍵屬性：保持圖片長寬比 */
    cursor: pointer; /* 點擊圖片也可換下一張 */
    user-select: none; /* 防止使用者選取圖片 */
    opacity: 1;
    transition: opacity 0.4s ease-in-out; /* 為淡入淡出準備 */
}

/* 用於實現淡入淡出效果 */
#main-image.fade {
    opacity: 0;
}

/* 控制項疊層 */
.controls-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    pointer-events: none; /* 讓滑鼠事件可以穿透到圖片上 */
}

/* 導覽按鈕 */
.nav-button {
    pointer-events: auto; /* 讓按鈕可以被點擊 */
    background-color: rgba(0, 0, 0, 0.3);
    color: white;
    border: none;
    font-size: 3rem;
    cursor: pointer;
    padding: 0 1.5rem;
    height: 100%;
    opacity: 0; /* 預設隱藏 */
    transition: opacity 0.3s ease;
}

#gallery-container:hover .nav-button {
    opacity: 1; /* 滑鼠移入時顯示 */
}

/* 底部控制列 */
.bottom-bar {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    background-color: rgba(0, 0, 0, 0.6);
    padding: 1rem;
    box-sizing: border-box;
    display: flex;
    align-items: center;
    gap: 1rem;
    pointer-events: auto; /* 讓控制列可以互動 */
    transform: translateY(100%); /* 預設隱藏在下方 */
    transition: transform 0.3s ease;
}

#gallery-container:hover .bottom-bar {
    transform: translateY(0); /* 滑鼠移入時滑出 */
}

.progress-slider {
    flex-grow: 1; /* 佔用剩餘空間 */
    cursor: pointer;
}

.speed-control, .image-counter {
    color: white;
    white-space: nowrap; /* 防止文字換行 */
}

/* RWD: 手機版樣式 */
@media (max-width: 768px) {
    .nav-button {
        font-size: 2rem;
        padding: 0 1rem;
        background-color: transparent; /* 在手機上按鈕常駐顯示，但變透明 */
        opacity: 1;
    }

    .bottom-bar {
        padding: 0.5rem;
        gap: 0.5rem;
        transform: translateY(0); /* 在手機上常駐顯示 */
    }

    .speed-control {
        font-size: 0.8rem;
    }
}
